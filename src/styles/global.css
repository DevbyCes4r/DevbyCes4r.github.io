/* Fuentes personalizadas */
/* Font loading moved to BaseLayout.astro for optimal performance */
/* Using preconnect + async loading strategy to prevent render blocking */

@import "tailwindcss";

@variant dark (&:where(.dark, .dark *));

@layer base {
  * {
    @apply scroll-smooth;
  }

  body {
    @apply font-sans antialiased;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }

  /* Mejoras de accesibilidad */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-blue-600;
  }

  /* Estilos para código inline */
  :not(pre)>code {
    @apply px-1.5 py-0.5 bg-slate-100 dark:bg-slate-800 text-pink-600 dark:text-pink-400 rounded text-sm font-mono;
  }

  /* Estilos para bloques de código */
  pre {
    @apply p-4 rounded-xl overflow-x-auto;
  }

  pre code {
    @apply text-sm leading-relaxed;
  }

  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }

  /* Selection styling */
  ::selection {
    @apply bg-blue-200 text-blue-900;
  }

  /* Dark mode selection */
  .dark ::selection {
    @apply bg-blue-800 text-blue-100;
  }
}

@layer components {

  /* Botones reutilizables */
  .btn-primary {
    @apply px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full font-semibold shadow-lg hover:shadow-xl transition-all hover:-translate-y-1;
  }

  .btn-secondary {
    @apply px-6 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-full font-semibold shadow-md hover:shadow-lg transition-all;
  }

  /* Cards */
  .card {
    @apply bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6;
  }

  /* Container */
  .container {
    @apply mx-auto px-4 max-w-7xl;
  }
}

@layer utilities {

  /* Text gradients */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600;
  }

  /* Animaciones personalizadas */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Loading skeleton */
  .skeleton {
    @apply animate-pulse bg-slate-200 dark:bg-slate-700 rounded;
  }

  /* Line clamp utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Syntax highlighting (compatible con Shiki/Prism) */
.astro-code {
  @apply rounded-xl shadow-lg;
}

/* Mejorar legibilidad en móviles */
@media (max-width: 640px) {
  body {
    @apply text-base;
  }

  h1 {
    @apply text-3xl;
  }

  h2 {
    @apply text-2xl;
  }

  h3 {
    @apply text-xl;
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }

  body {
    @apply text-black bg-white;
  }
}

/* ============================================ */
/* Enhanced Blog Content Styling */
/* ============================================ */

.ai-content-wrapper {
  @apply text-slate-800 dark:text-slate-200;
}

/* Headings */
.ai-content-wrapper h2 {
  @apply text-3xl font-bold mt-12 mb-6 text-slate-900 dark:text-white;
  @apply pb-3;
  @apply bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400;
  @apply bg-clip-text text-transparent;
}

.ai-content-wrapper h3 {
  @apply text-2xl font-bold mt-8 mb-4 text-slate-900 dark:text-white;
  @apply flex items-center gap-2;
}

.ai-content-wrapper h4 {
  @apply text-xl font-semibold mt-6 mb-3 text-slate-800 dark:text-slate-100;
}

/* Paragraphs */
.ai-content-wrapper p {
  @apply text-lg leading-relaxed mb-6 text-slate-700 dark:text-slate-300;
}

/* Links */
.ai-content-wrapper a {
  @apply text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300;
  @apply underline decoration-blue-400/30 hover:decoration-blue-600/60;
  @apply transition-all duration-200;
  @apply font-medium;
}

/* Lists */
.ai-content-wrapper ul {
  @apply space-y-3 my-6;
}

.ai-content-wrapper ul li {
  @apply text-slate-700 dark:text-slate-300 leading-relaxed;
}

/* Only add custom bullets to plain text lists */
.ai-content-wrapper > ul > li {
  @apply relative pl-6 list-none;
}

.ai-content-wrapper > ul > li::before {
  content: "";
  @apply absolute left-0 top-2.5 w-2 h-2 bg-blue-500 dark:bg-blue-400 rounded-full;
}

/* Remove bullets from lists with checkboxes */
.ai-content-wrapper ul li:has(input[type="checkbox"]) {
  @apply pl-0 list-none;
}

.ai-content-wrapper ul li:has(input[type="checkbox"])::before {
  content: none;
}

.ai-content-wrapper ul li input[type="checkbox"] {
  @apply mr-3 w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500;
}

/* Don't add bullets to lists that already have visual markers (like the AIOptimizedContent component) */
.ai-content-wrapper > div ul li {
  @apply list-none;
}

.ai-content-wrapper > div ul li::before {
  content: none;
}

/* Ordered lists with timeline effect */
.ai-content-wrapper ol {
  @apply list-none space-y-6 pl-0 relative my-8;
  counter-reset: item;
}

.ai-content-wrapper ol li {
  @apply relative pl-10 text-slate-700 dark:text-slate-300 leading-relaxed;
  counter-increment: item;
}

.ai-content-wrapper ol li::before {
  content: counter(item);
  @apply absolute left-0 top-0 flex items-center justify-center;
  @apply w-7 h-7 rounded-full text-sm font-bold;
  @apply bg-gradient-to-br from-blue-500 to-purple-600 text-white;
  @apply shadow-md;
}

.ai-content-wrapper ol li p {
  @apply mt-0 mb-2;
}

/* Enhance strong tags inside lists */
.ai-content-wrapper li strong {
  @apply text-slate-900 dark:text-white font-bold;
}

/* Nested lists */
.ai-content-wrapper li > ul,
.ai-content-wrapper li > ol {
  @apply mt-3 ml-0;
}

/* Remove emoji styling from list markers */
.ai-content-wrapper li::marker {
  @apply text-transparent;
}

/* Code Blocks */
.ai-content-wrapper pre {
  @apply bg-slate-900 dark:bg-slate-950 rounded-xl p-6 my-8;
  @apply border border-slate-700 dark:border-slate-800;
  @apply overflow-x-auto shadow-lg;
  @apply relative;
  @apply max-w-4xl mx-auto;
}

.ai-content-wrapper pre::before {
  content: "";
  @apply absolute top-0 left-0 right-0 h-10 bg-slate-800 dark:bg-slate-900;
  @apply rounded-t-xl border-b border-slate-700;
}

.ai-content-wrapper pre code {
  @apply text-sm font-mono text-slate-100;
  @apply block relative z-10 pt-8;
  @apply leading-relaxed;
}

/* Adjust code blocks inside lists */
.ai-content-wrapper li pre {
  @apply max-w-full;
}

/* Inline Code */
.ai-content-wrapper code:not(pre code) {
  @apply bg-blue-50 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300;
  @apply px-2 py-1 rounded-md text-sm font-mono;
  @apply border border-blue-200 dark:border-blue-900;
}

/* Blockquotes */
.ai-content-wrapper blockquote {
  @apply border-l-4 border-blue-500 dark:border-blue-400;
  @apply bg-blue-50 dark:bg-blue-950/20;
  @apply pl-6 pr-6 py-4 my-8 rounded-r-xl;
  @apply italic text-slate-700 dark:text-slate-300;
  @apply shadow-sm;
  @apply max-w-3xl mx-auto;
}

.ai-content-wrapper blockquote p {
  @apply mb-0 text-base leading-relaxed;
}

/* Tables */
.ai-content-wrapper table {
  @apply w-full my-8 border-collapse;
  @apply bg-white dark:bg-slate-800 rounded-xl overflow-hidden;
  @apply shadow-lg;
  @apply max-w-4xl mx-auto;
}

/* Tabla dentro de overflow-x-auto: sin margin-block para pegar al título */
.ai-content-wrapper .overflow-x-auto table {
  @apply my-0;
}

.ai-content-wrapper thead {
  @apply bg-gradient-to-r from-blue-600 to-purple-600;
}

.ai-content-wrapper th {
  @apply px-4 py-3 text-left text-xs md:text-sm font-semibold text-white;
  @apply uppercase tracking-wider;
}

.ai-content-wrapper td {
  @apply px-4 py-3 text-sm md:text-base text-slate-700 dark:text-slate-300;
  @apply border-b border-slate-200 dark:border-slate-700;
}

.ai-content-wrapper tbody tr:hover {
  @apply bg-slate-50 dark:bg-slate-700/50 transition-colors;
}

.ai-content-wrapper tbody tr:last-child td {
  @apply border-b-0;
}

/* Images */
.ai-content-wrapper img {
  @apply rounded-xl my-8 shadow-2xl;
  @apply border border-slate-200 dark:border-slate-700;
  @apply w-full h-auto;
}

/* Horizontal Rule */
.ai-content-wrapper hr {
  @apply my-12 border-t-2 border-slate-200 dark:border-slate-800;
  @apply opacity-50;
}

/* Strong and Em */
.ai-content-wrapper strong {
  @apply font-bold text-slate-900 dark:text-white;
}

.ai-content-wrapper em {
  @apply italic text-slate-700 dark:text-slate-300;
}

/* Callout Boxes (if using custom syntax) */
.ai-content-wrapper .callout {
  @apply bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30;
  @apply border-l-4 border-blue-500 dark:border-blue-400;
  @apply p-6 my-8 rounded-r-xl;
  @apply shadow-md;
}

.ai-content-wrapper .callout-warning {
  @apply from-yellow-50 to-orange-50 dark:from-yellow-950/30 dark:to-orange-950/30;
  @apply border-yellow-500 dark:border-yellow-400;
}

.ai-content-wrapper .callout-success {
  @apply from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30;
  @apply border-green-500 dark:border-green-400;
}

.ai-content-wrapper .callout-danger {
  @apply from-red-50 to-pink-50 dark:from-red-950/30 dark:to-pink-950/30;
  @apply border-red-500 dark:border-red-400;
}

:target {
  scroll-margin-top: 90px;
}