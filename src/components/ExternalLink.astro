---
interface Props {
    href: string;
    class?: string;
    target?: string;
    rel?: string;
}

const { href, class: className, target, rel } = Astro.props;
const isExternal = href.startsWith("http");
const finalTarget = target || (isExternal ? "_blank" : undefined);
const finalRel = rel || (isExternal ? "noopener noreferrer" : undefined);
---

<a
    href={href}
    target={finalTarget}
    rel={finalRel}
    class:list={["inline-flex items-center gap-1 hover:underline", className]}
>
    <slot />
    {
        isExternal && (
            <svg
                class="w-3 h-3 opacity-70"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                />
            </svg>
        )
    }
</a>
