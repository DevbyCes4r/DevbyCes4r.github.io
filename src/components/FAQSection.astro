---
interface FAQ {
    question: string;
    answer?: string;
    answerHTML?: string;
}

interface Props {
    faqs: readonly FAQ[];
    title?: string;
    icon?: string;
}

const { faqs, title = "Preguntas Frecuentes", icon = "question" } = Astro.props;
---

<!-- FAQ Section - Optimized for AI Bots -->
<section class="mb-16" itemscope itemtype="https://schema.org/FAQPage">
    <div class="flex items-center gap-3 mb-8">
        {
            icon === "question" && (
                <svg
                    class="w-6 h-6 text-purple-600 dark:text-purple-400"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    />
                </svg>
            )
        }
        <h2
            class="text-2xl md:text-3xl font-bold text-slate-900 dark:text-white"
        >
            {title}
        </h2>
    </div>

    <div class="space-y-4">
        {
            faqs.map((faq) => (
                <details
                    class="group bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden hover:border-purple-500 dark:hover:border-purple-500 transition-colors"
                    itemscope
                    itemprop="mainEntity"
                    itemtype="https://schema.org/Question"
                >
                    <summary
                        class="cursor-pointer p-6 font-semibold text-lg text-slate-900 dark:text-white flex items-center justify-between hover:text-purple-600 dark:hover:text-purple-400 transition-colors"
                        itemprop="name"
                    >
                        {faq.question}
                        <svg
                            class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M19 9l-7 7-7-7"
                            />
                        </svg>
                    </summary>
                    <div
                        class="px-6 pb-6 text-slate-600 dark:text-slate-400 leading-relaxed"
                        itemscope
                        itemprop="acceptedAnswer"
                        itemtype="https://schema.org/Answer"
                    >
                        {faq.answerHTML ? (
                            <div itemprop="text" set:html={faq.answerHTML} />
                        ) : (
                            <p itemprop="text">{faq.answer}</p>
                        )}
                    </div>
                </details>
            ))
        }
    </div>
</section>
